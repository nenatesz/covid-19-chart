(this.webpackJsonpviews=this.webpackJsonpviews||[]).push([[0],{208:function(t,e,a){"use strict";a.r(e);var s=a(3),c=a.n(s),n=a(74),i=a.n(n),r=(a(81),a(82),a(13)),o=a(0),l=a(1),d=a(5),u=a(4),h=a(45),j=a(29),b=a.n(j),p=a(2),v=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).createStatisticsPieChart=function(){s.setState({spieChart:{labels:["New","Critical","Recovered","Active"],datasets:[{backgroundColor:Object.values(s.CHART_COLORS),data:[s.removePlusSign(s.statsData.cases.new),s.statsData.cases.critical,s.statsData.cases.recoverd,s.statsData.cases.active]}]}})},s.createStatisticsBarChart=function(){s.setState({sbarChart:{labels:["New","Critical","Recovered","Active"],datasets:[{backgroundColor:Object.values(s.CHART_COLORS),data:[s.removePlusSign(s.statsData.cases.new),s.statsData.cases.critical,s.statsData.cases.recoverd,s.statsData.cases.active]}]}})},s.fetchChartData=function(t){null!==t&&b.a.get("/api/statistics/".concat(t)).then((function(t){t&&(console.log(t.data.response[0]),s.statsData={country:t.data.response[0].country,deaths:t.data.response[0].deaths,tests:t.data.response[0].tests,cases:t.data.response[0].cases,lastUpdate:new Date(t.data.response[0].time).toUTCString()},s.createStatisticsPieChart(),s.createStatisticsBarChart())}))},s.removePlusSign=function(t){return t&&t.includes("+")?parseInt(t.split("+")[1]):t},s.state={spieChart:void 0,sbarChart:void 0},s.statsData={country:void 0,deaths:void 0,tests:void 0,cases:void 0,lastUpdate:void 0},s.duration=["Last One Week","Last Two Weeks","Last Three Weeks","Last One Month"],s.selectedDuration=s.duration[0],s.historicData=[],s.CHART_COLORS={red:"rgb(255, 99, 132)",orange:"rgb(26, 17, 9)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(t){this.props.country!==t.country&&this.fetchChartData(this.props.country)}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"container-fluid",children:Object(p.jsxs)("div",{className:"row flex-justify-content charts-component",children:[Object(p.jsx)("div",{className:"stats-bar cell-6 fg-grayBlue",children:Object(p.jsx)(h.a,{data:this.state.sbarChart,options:{title:{display:!0,text:"Average Rainfall per month",fontSize:20},legend:{display:!0,position:"right"}}})}),Object(p.jsx)("div",{className:"stats-bar cell-6 fg-grayBlue",children:Object(p.jsx)(h.b,{data:this.state.spieChart,options:{responsive:!0,title:{display:!0,position:"top",text:this.statsData.country+" - Last Updated: "+this.statsData.lastUpdate,fontSize:20},legend:{display:!0,position:"top"}}})})]})})}}]),a}(s.Component),O=function(t){var e=t.onCountrySelected,a=Object(s.useState)([]),c=Object(r.a)(a,2),n=c[0],i=c[1],o=[];Object(s.useEffect)((function(){b.a.get("/api/countries/list").then((function(t){if(t){(o=t.data.response).unshift("All"),console.log("arr"+o);var a=o[0];e(a),i(o),console.log("arr1"+n)}else i(null)})).catch((function(t){i(null),console.error(t)}))}),[]);return null!==n&&n.length>0?Object(p.jsxs)("div",{className:"lc-main-div",children:[Object(p.jsx)("h6",{className:"fg-greyMouse",children:"Country"}),Object(p.jsx)("select",{"data-clear-button":!0,onChange:function(t,a,s){var c=t.target.selectedIndex;console.log("i"+c);var i=n[c];e(i),console.log("sel"+i)},children:n.map((function(t,e){return Object(p.jsx)("option",{value:t,children:t},e)}))})]}):Object(p.jsx)("div",{className:"lc-main-div",children:Object(p.jsx)("h6",{className:"fg-grayMouse",children:"It appears the API is not available ! Thats bad"})})},g=function(){var t=Object(s.useState)(void 0),e=Object(r.a)(t,2),a=e[0],c=e[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"cell-3",children:Object(p.jsx)(O,{onCountrySelected:function(t){c(t),console.log("coun"+t)}})})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"cell-12",children:Object(p.jsx)(v,{country:a})})})]})};var f=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsxs)("div",{className:"heading",children:[Object(p.jsx)("p",{children:"Covid Data Summary"}),Object(p.jsxs)("div",{children:["Data from ",Object(p.jsx)("a",{href:"https://rapidapi.com/api-sports/api/covid-193",children:"Rapid API"})]})]}),Object(p.jsx)("div",{className:"main-content",children:Object(p.jsx)(g,{})})]})})},m=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(e){var a=e.getCLS,s=e.getFID,c=e.getFCP,n=e.getLCP,i=e.getTTFB;a(t),s(t),c(t),n(t),i(t)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(f,{})}),document.getElementById("root")),m()},81:function(t,e,a){},82:function(t,e,a){}},[[208,1,2]]]);
//# sourceMappingURL=main.1adac879.chunk.js.map